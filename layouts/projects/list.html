{{ define "main" }}
<main class="main list" role="main">
	{{- with .Content }}
	<div class="content main__content clearfix">
		{{ . }}
	</div>
	{{- end }}
	
	<div class="projects-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
		{{- range .Pages.ByParam "weight" | collections.Reverse }}
		<article class="project-card" style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 1.5rem; background: #fafafa; transition: transform 0.2s, box-shadow 0.2s;">
			{{- if .Params.thumbnail }}
			<div class="project-thumbnail" style="margin-bottom: 1rem;">
				<img src="{{ .Params.thumbnail }}" alt="{{ .Title }}" style="width: 100%; height: 180px; object-fit: cover; border-radius: 4px;">
			</div>
			{{- end }}
			<h2 class="project-title" style="margin: 0 0 0.5rem 0;">
				<a href="{{ .Permalink }}" style="color: #2c3e50; text-decoration: none;">{{ .Title }}</a>
			</h2>
			<p class="project-description" style="color: #666; margin: 0.5rem 0; line-height: 1.5;">
				{{ .Description | default .Summary | truncate 150 }}
			</p>
			{{- if .Params.technologies }}
			<div class="project-tech" style="margin-top: 0.75rem; display: flex; flex-wrap: wrap; gap: 0.5rem;">
				{{- range first 4 .Params.technologies }}
				<span style="background: #3498db; color: white; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">{{ . }}</span>
				{{- end }}
			</div>
			{{- end }}
			<div class="project-links" style="margin-top: 1rem; display: flex; flex-wrap: wrap; gap: 0.75rem; align-items: center;">
				<a href="{{ .Permalink }}" style="color: #3498db; text-decoration: none; font-weight: 500;">Read More â†’</a>
				{{- if .Params.demo }}
				<a href="{{ .Params.demo }}" target="_blank" rel="noopener" style="color: #e74c3c; text-decoration: none; font-size: 0.9rem;">ðŸ“º Demo</a>
				{{- end }}
				{{- if .Params.paper }}
				<a href="{{ .Params.paper }}" target="_blank" style="color: #27ae60; text-decoration: none; font-size: 0.9rem;">ðŸ“„ Paper</a>
				{{- end }}
			</div>
		</article>
		{{- end }}
	</div>
</main>
{{ end }}